<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>(Re)D√©couvrir Bordeaux - √âtape 4</title>
    <link rel="stylesheet" href="indexstyle.css">
</head>
<body>
    <div class="container">
        
        <div class="texttitle">
            <h3>Ch√¢teaux Bordeaux <br>(TOME 7)</h3>
        </div>

        <img src="media/QR4.jpg" alt="Couverture du livre" class="book-cover" data-zoom="true">

        <div class="image-modal" id="imageModal">
            <div class="image-modal-content">
                <span class="image-modal-close">&times;</span>
                <img id="modalImage" src="" alt="Image agrandie">
            </div>
        </div>

        <div class="texttitle">
            <h3>√Ä propos de l'auteur</h3>
        </div>
        <div class="author-info">
            <p>Install√© √† Bordeaux depuis 1987, √âric Corbeyran est aujourd'hui l'une des figures les plus prolifiques de la bande dessin√©e fran√ßaise avec plus de 400 albums √† son actif. Arriv√© dans la r√©gion avec des r√™ves de sc√©narios plein la t√™te, il a su transformer son environnement en une in√©puisable source d‚Äôinspiration. S'il s'est d'abord fait conna√Ætre par le fantastique avec Le Chant des Stryges, c'est sa curiosit√© insatiable qui l'a pouss√© √† s'int√©resser au patrimoine viticole de sa ville d'adoption. Bien qu'initialement novice en ≈ìnologie, il s'est immerg√© pendant plusieurs ann√©es dans ce milieu fascinant, rencontrant les grands propri√©taires bordelais pour en saisir toutes les nuances. Cette d√©marche d'authenticit√©, coupl√©e √† sa rencontre artistique avec le dessinateur Esp√©, a donn√© naissance √† la saga incontournable Ch√¢teaux Bordeaux, prouvant que le terroir girondin est un d√©cor romanesque universel.</p>
        </div>

        <div class="texttitle">
            <h3>R√©sum√© du Livre</h3>
        </div>
        <p>Tome 7 - Les Vendanges<br>
Septembre 2008. Alors que Jeanne est toujours dans le coma √† la suite de son accident, Alexandra doit faire face √† une nouvelle crise. Les vendangeurs qu‚Äôelle emploie se plaignent de leurs conditions de travail et ont d√©cid√© de faire gr√®ve. Probl√®me : elle a besoin que les vendanges se terminent le plus vite possible pour que le raisin ne souffre pas trop du mauvais temps qui perdure. Et puisqu‚Äôun malheur n‚Äôarrive jamais seul, Alexandra apprend par Nicolas Noiret, le jeune courtier qui lui fait de l‚Äô≈ìil, que le vin qu‚Äôelle exp√©rimente sur l‚Äô√Æle de son p√®re risque bien de ne pas obtenir l‚ÄôAOC...</p>

        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.3); margin: 3rem 0;">

        <div class="game-section">
            <div class="texttitle">
                <h3>Le D√©fi du Lieu</h3>
            </div>

            <p>Vous avez d√©couvert l'histoire ? Maintenant, prouvez que vous y √™tes ! Chargez ou prenez une photo qui reproduit une des cases de la planche plus haut.</p>

            <div class="game-area" style="margin-bottom: 2rem;">
                
                <input type="file" id="camera-upload" accept="image/*" capture="environment" style="display: none;">
                <label for="camera-upload" class="game-upload-btn" id="btn-camera">
                    üì∑ Prendre une photo
                </label>

                <input type="file" id="gallery-upload" accept="image/*" style="display: none;">
                <label for="gallery-upload" class="game-upload-btn" id="btn-gallery" style="margin-top: 15px; background-color: #e6d0b3; color: #800020;">
                    üñºÔ∏è Choisir dans la galerie
                </label>

                <div id="clue-result" style="display: none;">
                    <p style="margin-top: 1.5rem;"><strong>Preuve valid√©e !</strong><br>Voici le num√©ro de rue pour la prochaine √©tape :</p>
                    <div class="clue-number">38</div>
                </div>

            </div>
        </div>

    </div>

    <div class="button-container">
        <div class="button">
            <a href="index.html">Retour √† l'accueil</a>
        </div>
    </div>

    <button class="nav-toggle" id="navToggle" aria-label="Menu">‚ò∞</button>
    <div class="nav-overlay" id="navOverlay">
        <ul class="nav-links">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="QR1.html">1. Herv√© Le Corre</a></li>
            <li><a href="QR2.html">2. Virginie Grimaldi</a></li>
            <li><a href="QR3.html">3. M-L. Hubert Nasser</a></li>
            <li><a href="QR4.html">4. Le D√©fi Photo</a></li>
            <li><a href="QR5.html">5. S. Lambert Mesguich</a></li>
            <li><a href="QR6.html">6. Joan Ganhaire</a></li>
            <li><a href="QR7.html">7. Ch√¢teaux Bordeaux</a></li>
        </ul>
    </div>

    <script>
        // 1. Gestion du Zoom Image
        document.addEventListener('DOMContentLoaded', function() {
            var zoomImages = document.querySelectorAll('[data-zoom="true"]');
            var modal = document.getElementById('imageModal');
            var modalImg = document.getElementById('modalImage');
            var closeBtn = document.querySelector('.image-modal-close');

            if(zoomImages.length > 0) {
                zoomImages.forEach(function(img) {
                    img.addEventListener('click', function() {
                        modal.classList.add('active');
                        modalImg.src = this.src;
                    });
                });
                if (closeBtn) {
                    closeBtn.addEventListener('click', function() { modal.classList.remove('active'); });
                }
                if (modal) {
                    modal.addEventListener('click', function(e) { if (e.target === modal) modal.classList.remove('active'); });
                }
            }
        });

        // 2. Gestion du Menu Burger
        const navToggle = document.getElementById('navToggle');
        const navOverlay = document.getElementById('navOverlay');
        if (navToggle && navOverlay) {
            navToggle.addEventListener('click', () => {
                navOverlay.classList.toggle('active');
                navToggle.innerHTML = navOverlay.classList.contains('active') ? '‚úï' : '‚ò∞';
            });
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navOverlay.classList.remove('active');
                    navToggle.innerHTML = '‚ò∞';
                });
            });
        }

        // 3. Gestion du Jeu (Double Bouton)
        function handleImageUpload(event) {
            if (this.files && this.files[0]) {
                // On cache les deux boutons
                document.getElementById('btn-camera').style.display = 'none';
                document.getElementById('btn-gallery').style.display = 'none';

                // Affichage de l'indice
                const resultDiv = document.getElementById('clue-result');
                resultDiv.style.display = 'block';
                
                // Scroll vers le r√©sultat
                setTimeout(() => {
                    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 300);
            }
        }

        // On √©coute les deux inputs
        const cameraInput = document.getElementById('camera-upload');
        const galleryInput = document.getElementById('gallery-upload');
        
        if(cameraInput) cameraInput.addEventListener('change', handleImageUpload);
        if(galleryInput) galleryInput.addEventListener('change', handleImageUpload);
    </script>
</body>
</html>