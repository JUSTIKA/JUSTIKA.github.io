<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>(Re)D√©couvrir Bordeaux - √âtape 4</title>
    <link rel="stylesheet" href="indexstyle.css">
</head>
<body>
    <div class="container">
        
        <div class="texttitle">
            <h3>Ch√¢teaux Bordeaux</h3>
        </div>

        <img src="media/QR4.jpg" alt="Couverture du livre" class="book-cover" data-zoom="true">

        <div class="image-modal" id="imageModal">
            <div class="image-modal-content">
                <span class="image-modal-close">&times;</span>
                <img id="modalImage" src="" alt="Image agrandie">
            </div>
        </div>

        <div class="texttitle">
            <h3>√Ä propos de l'auteur</h3>
        </div>
        <div class="author-info">
            <p>Un court paragraphe sur l'auteur. Il explique qui il est et son lien avec Bordeaux. Quasi odio adipisci totam iste voluptatem.</p>
        </div>

        <div class="texttitle">
            <h3>R√©sum√© du Livre</h3>
        </div>
        <p>Test</p>

        

        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.3); margin: 3rem 0;">

        <div class="game-section">
            <div class="texttitle">
                <h3>Le D√©fi du Lieu</h3>
            </div>

            <p>Vous avez d√©couvert l'histoire ? Maintenant, prouvez que vous y √™tes ! Chargez une photo du lieu pour r√©v√©ler l'indice final.</p>

            <div class="game-area" style="margin-bottom: 2rem;">
                <input type="file" id="location-upload" accept="image/*" style="display: none;">
                
                <label for="location-upload" class="game-upload-btn">
                    üì∑ Charger ma photo
                </label>

                <div id="clue-result" style="display: none;">
                    <p>Bravo ! Voici le num√©ro de rue pour la prochaine √©tape :</p>
                    <div class="clue-number">38</div>
                </div>
            </div>
        </div>

    </div>

    <div class="button-container">
        <div class="button">
            <a href="index.html">Retour √† l'accueil</a>
        </div>
    </div>

    <script>
        // Image Zoom Functionality
        document.addEventListener('DOMContentLoaded', function() {
            var zoomImages = document.querySelectorAll('[data-zoom="true"]');
            var modal = document.getElementById('imageModal');
            var modalImg = document.getElementById('modalImage');
            var closeBtn = document.querySelector('.image-modal-close');

            zoomImages.forEach(function(img) {
                img.addEventListener('click', function() {
                    modal.classList.add('active');
                    modalImg.src = this.src;
                });
            });

            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    modal.classList.remove('active');
                });
            }

            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            }
        });

        document.getElementById('location-upload').addEventListener('change', function() {
            if (this.files && this.files[0]) {
                // Feedback visuel sur le bouton
                const btn = document.querySelector('.game-upload-btn');
                btn.innerHTML = "‚úÖ Photo valid√©e";
                btn.style.backgroundColor = "#4CAF50"; 
                btn.style.color = "white";
                btn.style.boxShadow = "none";

                // Affichage de l'indice
                document.getElementById('clue-result').style.display = 'block';
                
                // Petit scroll automatique vers l'indice pour √™tre s√ªr qu'il soit vu
                setTimeout(() => {
                    document.getElementById('clue-result').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 300);
            }
        });
    </script>
</body>
</html>